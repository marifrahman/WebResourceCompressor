function doAction(d,b){var e=$(d);var c=$(d).getElementsByTagName("input");var g="";var a="";var f=false;for(i=0;i<c.length;i++){if(c[i].id=="function"){g=c[i].value}}switch(g){case"saveCaseNote":saveCaseNote();f=false;break;case"saveReturnToWork":f=saveReturnToWork();break;case"saveRemuneration":f=saveRemuneration();break;default:break}if(f){return false}else{return true}}function initPage(){var c;var a;var b;for(i=0;i<panels.length;i++){c=$(panels[i][0]);if(c.style.display==""){a=c.getElementsByTagName("input");for(j=0;j<a.length;j++){if(a[j].id.indexOf("btnPrev")!=-1){a[j].style.display="none";break}}break}}for(i=panels.length-1;i>=0;i--){c=$(panels[i][0]);if(c.style.display==""){a=c.getElementsByTagName("input");for(j=0;j<a.length;j++){if(a[j].id.indexOf("btnNext")!=-1){a[j].value="Review";break}}break}}renumberSections()}function review(){var e="";var b=false;$("dvProgress").style.display="";new Effect.Opacity("dvProgress",{from:0,to:0.5});var a=0;var d=setInterval(function(){if($(panels[a][0]).style.display==""){if(!doAction(panels[a][0])){b=true;openSection(panels[a][0])}}a++;if(a>=panels.length){new Effect.Opacity("dvProgress",{from:0.5,to:0});$("dvProgress").style.display="none";clearInterval(d);if(!b){myLightWindow.activateWindow({href:"WorkcoverDetailsReview.aspx?incidentId="+incidentId+"&claimId="+claimId,title:"Classify Claim",type:"external",width:720,height:760})}else{alert("Please correct the errors in red")}}},1000)}function loadFileList(a){var b="";b+="&area="+a;new Ajax.Request("ajax/form_WorkcoverClaimDetails.ashx?incidentId="+incidentId+"&action=loadFileList",{method:"post",parameters:b,onSuccess:function(c){if(c.responseText.indexOf("error")!=-1){alert(c.responseText)}else{switch(a.toLowerCase()){case"workcoverclassification":dvWorkcoverAssessmentFiles.innerHTML=c.responseText;break}}},onFailure:function(c){document.clear();document.write(c.responseText)}})};
function makeSVGfromMap(L,M,U,B,R,Q,F,G,C,D,m){function A(b,h,e){var c,a,d,i=e;d=(b.indexOf(";")!=-1?b.split(";"):d=b);for(c=0;c<d.length;c++){if(d[c].indexOf(":")!=-1){a=d[c].split(":");if(a[0].indexOf(h)!=-1){i=a[1];break}}}return i}if(L.tagName.toLowerCase()=="map"){var f,g,o,q,u,E,H,I,J,K,N,O,P,S,W,X,Y,T,V,v=L.getElementsByTagName("area");g=R||0.5;o=Q||1;W=M?"<":"&lt;";X=M?">":"&gt;";Y=M?"\n":"<br>";T=W+'?xml version="1.0" encoding="utf-8" standalone="no"?'+X+Y;T+=W+'!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"'+X+Y;T+=W+'svg width="'+(U||100)+'px" height="'+(B||100)+'px" viewBox="0 0 '+(U||100)+" "+(B||100)+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+X+Y;T+=W+"title"+X+(L.id||L.name||"Unnamed")+W+"/title"+X+W+"desc"+X+"Generated with maputil.js (mapper.netzgesta.de)"+W+"/desc"+X+Y;T+=W+"defs"+X+Y+W+'script type="text/ecmascript"'+X+Y+W+"![CDATA["+Y+'var fdat="",sdat="";'+Y;T+='function onAreaOver(evt){var ele=evt.target; fdat=ele.getAttribute("fill"); sdat=ele.getAttribute("stroke"); ele.setAttribute("fill","'+(C||"limegreen")+'"); ele.setAttribute("stroke","'+(D||"green")+'");}'+Y;T+='function onAreaOut(evt){var ele=evt.target; ele.setAttribute("fill",fdat); ele.setAttribute("stroke",sdat);}'+Y;T+="]]"+X+Y+W+"/script"+X+Y+W+"/defs"+X+Y;if(m!=""){T+=W+'rect id="background" fill="'+m+'" stroke-width="0" x="0" y="0" width="'+(U||100)+'" height="'+(B||100)+'" /'+X+Y}for(E=0;E<v.length;E++){q=v[E].coords.split(",");P=v[E].shape;N="";J=v[E].title||v[E].alt;f=v[E].getAttribute("href");S=J!=""?J:"area_"+E;u="";K=v[E].id||v[E].name||S;u=v[E].getAttribute("style");if(u!=null&&!window.navigator.systemLanguage){I=A(u,"fill","silver")||F||"silver";O=A(u,"stroke","gray")||G||"gray"}else{I=F||"silver";O=G||"gray"}if(P.toLowerCase()=="rect"){T+=W+'a xlink:title="'+J+'" xlink:href="'+(f!=""?f:"#")+'"'+X+W+'rect id="'+K+'" fill="'+I+'" stroke="'+O+'" stroke-width="'+g+'px" stroke-miterlimit="'+o+'" onmouseover="onAreaOver(evt);" onmouseout="onAreaOut(evt);" x="'+parseInt(q[0])+'" y="'+parseInt(q[1])+'" width="'+parseInt(q[2]-q[0])+'" height="'+parseInt(q[3]-q[1])+'" /'+X+W+"/a"+X+Y}else{if(P.toLowerCase()=="circle"){T+=W+'a xlink:title="'+J+'" xlink:href="'+(f!=""?f:"#")+'"'+X+W+'circle id="'+K+'" fill="'+I+'" stroke="'+O+'" stroke-width="'+g+'px" stroke-miterlimit="'+o+'" onmouseover="onAreaOver(evt);" onmouseout="onAreaOut(evt);" cx="'+parseInt(q[0])+'" cy="'+parseInt(q[1])+'" r="'+parseInt(q[2])+'" /'+X+W+"/a"+X+Y}else{if(P.toLowerCase()=="poly"){for(H=0;H<q.length;H+=2){N+=parseInt(q[H])+","+parseInt(q[H+1]);if((H+2)<q.length){N+=","}}T+=W+'a xlink:title="'+J+'" xlink:href="'+(f!=""?f:"#")+'"'+X+W+'polygon id="'+K+'" fill="'+I+'" stroke="'+O+'" stroke-width="'+g+'px" stroke-miterlimit="'+o+'" onmouseover="onAreaOver(evt);" onmouseout="onAreaOut(evt);" points="'+N+'" /'+X+W+"/a"+X+Y}}}}T+=W+"/svg"+X+Y;if(M){return T}else{V=top.window.open("","SVG");V.document.open("text/html");V.document.write("<pre>"+T+"</pre>");V.document.close();return false}}}function scaleMapAreaCoords(D,C,B,I,H,O,Q){if(D.tagName.toLowerCase()=="map"){var b,c,f,m,o,q,A,E,F,G,J,N,P,L,k,K,M,z="&lt;area ",u=" /&gt;",v="<br>",g=D.getElementsByTagName("area");L=parseFloat(I/C);k=parseFloat(H/B);N=parseInt(O||0);P=parseInt(Q||0);K='&lt;map name="'+(D.name||D.id)+'"&gt;'+v;for(m=0;m<g.length;m++){c=g[m].coords.split(",");E="";for(o=0;o<c.length;o+=2){E+=Math.min(Math.max(Math.round(N+(c[o]*L)),0),I)+","+Math.min(Math.max(Math.round(P+(c[o+1]*k)),0),H);if((o+2)<c.length){E+=","}}G=g[m].shape||"rect";J=g[m].title;b=g[m].alt;A=g[m].id;q=g[m].getAttribute("href")||"#";f=g[m].getAttribute("style");F=g[m].getAttribute("rel");K+=z+'shape="'+G+'" ';if(J!=null){K+='title="'+J+'" '}if(b!=null){K+='alt="'+b+'" '}if(F!=null){K+='rel="'+F+'" '}if(f!=null){K+='style="'+f+'" '}K+='href="'+q+'" coords="'+E+'"'+u+v}K+="&lt;/map&gt;"+v;M=top.window.open("","COORDS");M.document.open("text/html");M.document.write("<pre>"+K+"</pre>");M.document.close();return false}};
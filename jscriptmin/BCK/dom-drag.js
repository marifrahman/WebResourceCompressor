var Drag={obj:null,init:function(i,j,g,e,h,f,a,b,c,d){i.onmousedown=Drag.start;i.hmode=a?false:true;i.vmode=b?false:true;i.root=j&&j!=null?j:i;if(i.hmode&&isNaN(parseInt(i.root.style.left))){i.root.style.left="0px"}if(i.vmode&&isNaN(parseInt(i.root.style.top))){i.root.style.top="0px"}if(!i.hmode&&isNaN(parseInt(i.root.style.right))){i.root.style.right="0px"}if(!i.vmode&&isNaN(parseInt(i.root.style.bottom))){i.root.style.bottom="0px"}i.minX=typeof g!="undefined"?g:null;i.minY=typeof h!="undefined"?h:null;i.maxX=typeof e!="undefined"?e:null;i.maxY=typeof f!="undefined"?f:null;i.xMapper=c?c:null;i.yMapper=d?d:null;i.root.onDragStart=new Function();i.root.onDragEnd=new Function();i.root.onDrag=new Function()},start:function(a){var b=Drag.obj=this;a=Drag.fixE(a);var d=parseInt(b.vmode?b.root.style.top:b.root.style.bottom);var c=parseInt(b.hmode?b.root.style.left:b.root.style.right);b.root.onDragStart(c,d);b.lastMouseX=a.clientX;b.lastMouseY=a.clientY;if(b.hmode){if(b.minX!=null){b.minMouseX=a.clientX-c+b.minX}if(b.maxX!=null){b.maxMouseX=b.minMouseX+b.maxX-b.minX}}else{if(b.minX!=null){b.maxMouseX=-b.minX+a.clientX+c}if(b.maxX!=null){b.minMouseX=-b.maxX+a.clientX+c}}if(b.vmode){if(b.minY!=null){b.minMouseY=a.clientY-d+b.minY}if(b.maxY!=null){b.maxMouseY=b.minMouseY+b.maxY-b.minY}}else{if(b.minY!=null){b.maxMouseY=-b.minY+a.clientY+d}if(b.maxY!=null){b.minMouseY=-b.maxY+a.clientY+d}}document.onmousemove=Drag.drag;document.onmouseup=Drag.end;return false},drag:function(a){a=Drag.fixE(a);var g=Drag.obj;var c=a.clientY;var b=a.clientX;var i=parseInt(g.vmode?g.root.style.top:g.root.style.bottom);var h=parseInt(g.hmode?g.root.style.left:g.root.style.right);var d,f;if(g.minX!=null){b=g.hmode?Math.max(b,g.minMouseX):Math.min(b,g.maxMouseX)}if(g.maxX!=null){b=g.hmode?Math.min(b,g.maxMouseX):Math.max(b,g.minMouseX)}if(g.minY!=null){c=g.vmode?Math.max(c,g.minMouseY):Math.min(c,g.maxMouseY)}if(g.maxY!=null){c=g.vmode?Math.min(c,g.maxMouseY):Math.max(c,g.minMouseY)}d=h+((b-g.lastMouseX)*(g.hmode?1:-1));f=i+((c-g.lastMouseY)*(g.vmode?1:-1));if(g.xMapper){d=g.xMapper(i)}else{if(g.yMapper){f=g.yMapper(h)}}Drag.obj.root.style[g.hmode?"left":"right"]=d+"px";Drag.obj.root.style[g.vmode?"top":"bottom"]=f+"px";Drag.obj.lastMouseX=b;Drag.obj.lastMouseY=c;Drag.obj.root.onDrag(d,f);return false},end:function(){document.onmousemove=null;document.onmouseup=null;Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode?"left":"right"]),parseInt(Drag.obj.root.style[Drag.obj.vmode?"top":"bottom"]));Drag.obj=null},fixE:function(a){if(typeof a=="undefined"){a=window.event}if(typeof a.layerX=="undefined"){a.layerX=a.offsetX}if(typeof a.layerY=="undefined"){a.layerY=a.offsetY}return a}};